<!DOCTYPE html>
<html lang="en">
  
  <head>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI=" crossorigin>

    <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js" integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM=" crossorigin></script>

    <script type="text/javascript">
      var reader = new XMLHttpRequest() || new ActiveXObject('MSXML2.XMLHTTP');

      function loadFile(file) {
        reader.open('get', file, true);
        reader.onreadystatechange = displayContents;
        reader.send(null);
      }

      function displayContents() {
        if(ready.readyState == 4) {
          var el = document.getElementById('main');
          el.innerHTML = reader.responseText;
        }
      }
    </script>

    <style>
      body {
        padding: 0;
        margin: 0;
      }

      html, body, #map {
        height: 100%;
        width: 100vw;
      }

      /*div.container {
        display: inline-flex;
      }

      #map, #pennant {
        position: absolute;
      }

      #pennant {
        width: 200px;
        height: auto;
        justify-self: right;
        z-index: 10;
      } */

      img.landscape {
        width: 200px;
        height: auto;
        margin: 15px;
      }

      img.portrait {
        height: 200px;
        width: auto;
        margin: 15px;
      }
    </style>

  </head>
  
  <body>

    <!--<div id="container">-->

      <!--<img id="pennant" src="./Static/Artifacts/Pennant.png"/>-->
      <div id="map"></div>

    <!--</div>-->

    <script>

      var w = window.innerWidth;

      if(w > 800) {
        var map = L.map('map', {
          crs: L.CRS.Simple,
          minZoom: -3,
          maxZoom: 1
        });
      } else {
        var map = L.map('map', {
          crs: L.CRS.Simple,
          minZoom: -4,
          maxZoom: 1
        });
      }

      var bounds = [[0, 0], [2821, 4407]];
      var image = L.imageOverlay('./Static/uw_map.jpg', bounds).addTo(map);
      map.fitBounds(bounds);

      var MapIcon = L.Icon.extend({
        options: {
          shadowUrl: './Static/Icons/Icon_Shadow.png',
          iconSize: [60, 60],
          shadowSize: [60, 60],
          iconAnchor: [30, 30],
          shadowAnchor: [30, 30],
          popupAnchor: [-3, -15]
        }
      });

      var grad = new MapIcon({iconUrl: './Static/Icons/Grad.png'}),
          column = new MapIcon({iconUrl: './Static/Icons/Column.png'}),
          diploma = new MapIcon({iconUrl: './Static/Icons/Diploma.png'}),
          football = new MapIcon({iconUrl: './Static/Icons/Football.png'}),
          gym = new MapIcon({iconUrl: './Static/Icons/Gym.png'}),
          magazine = new MapIcon({iconUrl: './Static/Icons/Magazine.png'}),
          newspaper = new MapIcon({iconUrl: './Static/Icons/Newspaper.png'}),
          president = new MapIcon({iconUrl: './Static/Icons/President.png'}),
          rook = new MapIcon({iconUrl: './Static/Icons/Rock.png'}),
          shopping = new MapIcon({iconUrl: './Static/Icons/Shopping.png'}),
          sigma = new MapIcon({iconUrl: './Static/Icons/Sigma.png'}),
          suzzallo = new MapIcon({iconUrl: './Static/Icons/Suzzallo.png'})

      L.marker([2352.9574, 2015.5426], {icon: grad}).addTo(map).bindPopup("img class='landscape' src='./Static/Artifacts/Grad.jpg'/>" + loadFile("./Static/Captions/Grad.txt"));

      L.marker([538.6596, 444.5106], {icon: column}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Columns.jpg'/>" + loadFile("./Static/Captions/Column.txt"));

      L.marker([1731.25, 1993.2766], {icon: diploma}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Diploma.jpg'/>" + loadFile("./Static/Captions/Diploma.txt"));

      L.marker([579.2553, 2683.4043], {icon: football}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Footbal.jpg'/>" + loadFile("./Static/Captions/Football.txt"));

      L.marker([1879.8511, 2781.4468], {icon: gym}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Gym.jpg'/>" + loadFile("./Static/Captions/Gym.txt"));

      L.marker([2077.7128, 671.5106], {icon: magazine}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Magazine.jpg'/>" + loadFile("./Static/Captions/Magazine.txt"));

      L.marker([1381.0851, 2472.9043], {icon: newspaper}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Newspaper.jpg'/>" + loadFile("./Static/Captions/Newspaper.txt"));

      L.marker([2166.7021, 2410.0957], {icon: president}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/President.jpg'/>" + loadFile("./Static/Captions/President.txt"));

      L.marker([1993.3511, 1748.9362], {icon: rook}).addTo(map).bindPopup("img class='portrait' src='/Static/Artifacts/Tower.jpg'/>" + loadFile("Static/Captions/Tower.txt"));

      L.marker([1993.3511, 499.6596], {icon: shopping}).addTo(map).bindPopup("img class='landscape' src='./Static/Artifacts/Shopping.jpg'/>" + loadFile("./Static/Captions/Ave.txt"));

      L.marker([2451.2553, 2744.4043], {icon: sigma}).addTo(map).bindPopup("img class='landscape' src='./Static/Artifacts/Greek.jpg'/>" + loadFile("./Static/Captions/Greek.txt"));

      L.marker([2207.7979, 1390.6064], {icon: suzzallo}).addTo(map).bindPopup("img class='portrait' src='./Static/Artifacts/Suzzallo.jpg'/>" + loadFile("./Static/Captions/Suzzallo.txt"));

    </script>

<!--     <script>
      var map = L.map('map').setView([51.505, -0.09], 13);
      L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
      }).addTo(map);

      var marker = L.marker([51.5, -0.09]).addTo(map);

      var circle = L.circle([51.508, -0.11], {
        color: 'red',
        fillColor: '#f03',
        fillOpacity: 0.5,
        radius: 500
      }).addTo(map);

      var polygon = L.polygon([
        [51.509, -0.08],
        [51.503, -0.06],
        [51.51, -0.047]
      ]).addTo(map);

      marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
      circle.bindPopup("I am a circle.");
      polygon.bindPopup("I am a polygon.");

      var popup = L.popup()
        .setLatLng([51.513, -0.09])
        .setContent("I am a standalone popup.")
        .openOn(map);

      function onMapClick(e) {
        alert("You clicked the map at " + e.latlng);
      }

      map.on('click', onMapClick);

      var popup = L.popup();

      function onMapClick(e) {
        popup
            .setLatLng(e.latlng)
            .setContent("You clicked the map at " + e.latlng.toString())
            .openOn(map);
      }

      map.on('click', onMapClick);
    </script> -->
  </body>
</html>
